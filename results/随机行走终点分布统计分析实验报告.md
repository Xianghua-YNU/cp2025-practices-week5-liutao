# 随机行走终点分布统计分析实验报告

## 1. 实验目的
简要说明本实验的主要目标和研究内容。
主要目标:
本实验的主要目标是模拟二维随机游走过程，分析随机游走终点的分布特征，并验证其是否符合理论预期，即终点的 x 坐标是否服从正态分布。
研究内容:
随机游走模拟：定义 random_walk_finals 函数，模拟多次二维随机游走过程。每次随机游走在 x 和 y 方向上随机选择 \(\pm1\) 进行移动，步数为 num_steps，共进行 num_walks 次随机游走。计算并记录所有随机游走的终点坐标，返回包含 x 坐标和 y 坐标的数组。终点分布可视化：定义 plot_endpoints_distribution 函数，将多次随机游走的终点在二维平面上进行可视化。绘制散点图，展示终点的空间分布特征，并保持 x 和 y 轴的比例相同，方便观察分布的形状。x 坐标统计分析：定义 analyze_x_distribution 函数，对随机游走终点的 x 坐标进行统计分析。计算 x 坐标的样本均值和样本方差，使用 \(n - 1\) 作为分母计算样本方差。绘制 x 坐标的直方图，以直观展示其分布情况。添加理论正态分布曲线，与直方图进行对比，验证 x 坐标是否服从正态分布。打印样本均值和样本方差的统计结果。实验执行与展示：在 if __name__ == "__main__" 部分，设置随机种子以保证实验结果的可重复性。调用 random_walk_finals 函数生成随机游走的终点坐标。创建一个包含两个子图的图形，分别展示终点的空间分布散点图和 x 坐标的分布直方图。调整图形布局并显示最终结果。

## 2. 实验原理
### 2.1 随机行走模型
描述二维随机行走的基本原理和数学模型。
   基本原理
二维随机行走描述粒子在二维平面移动。粒子从原点 (0, 0) 出发，每步在 (x)、(y) 方向独立随机移动， \(x\)、\(y\) 方向各有 \(\pm1\) 两种移动可能，且概率均为 \(0.5\)，按此规则移动指定步数完成一次行走，可进行多次实验。

   数学模型
1. **单步移动**：设 \(X_i\)、\(Y_i\) 分别为第 \(i\) 步 \(x\)、\(y\) 方向移动， \(i = 1, \cdots, n\)（\(n\) 为总步数）。 \(P(X_i = - 1)=P(X_i = 1)=0.5\)， \(P(Y_i = - 1)=P(Y_i = 1)=0.5\)。
2. **终点坐标**： \(n\) 步后， \(x\) 方向最终位置 \(X=\sum_{i = 1}^{n}X_i\)， \(y\) 方向最终位置 \(Y=\sum_{i = 1}^{n}Y_i\)。
3. **统计特性**： \(E(X)=E(Y)=0\)， \(Var(X)=Var(Y)=n\)。
4. **分布近似**： \(n\) 足够大时， \(X\sim N(0, n)\)， \(Y\sim N(0, n)\) 。 


### 2.2 中心极限定理
解释中心极限定理及其在本实验中的应用。

## 3. 实验结果
### 3.1 终点分布可视化
[![Figure_3](https://github.com/user-attachments/assets/39343e34-02fe-44fd-af77-5eba678892cb)
]
- 描述观察到的分布特征
  大致形状：从plot_endpoints_distribution函数绘制的二维随机游走终点的空间分布散点图来看，这些点大致呈圆形或椭圆形分布在二维平面上。这是因为随机游走在 x 和 y 方向上是相互独立的，且每次移动的步长相同（±1），经过多次随机选择方向后，终点会在以原点为中心的区域内扩散。
  密度变化：靠近原点的区域点的密度相对较高，随着离原点距离的增加，点的密度逐渐降低。这表明随机游走最终回到原点附近或者接近原点的可能性相对较大，而走到离原点很远的位置的可能性较小。
- 分析分布的对称性和范围
  空间分布对称性：在二维平面的空间分布散点图中，分布具有明显的中心对称性，以原点为对称中心。这是因为随机游走在 x 和 y 方向上的移动是对称的，向左或向右、向上或向下移动的概率相等，所以终点的分布在各个方向上是均匀的，不存在偏向某一个方向的情况。

### 3.2 统计分析结果
[![Figure_4 - 副本](https://github.com/user-attachments/assets/af7f7efa-fe3e-4332-83b7-d5055bd8b971)
]
- 样本均值：-0.92
- 样本方差：893.94
- 分析结果与理论预期的符合程度
  均值方面：
理论上 x 坐标的均值为0。在代码运行时，打印出的 Sample mean of X - coordinates 应该接近 0。如果多次运行代码（因为设置了随机种子 np.random.seed(42)，每次运行结果相同），发现样本均值与 0 的偏差很小，例如在0 附近的一个小范围内波动（如 −0.1 到0.1），则说明样本均值与理论预期相符。
方差方面：
理论上x 坐标的方差为 1000。代码中使用 np.var(x_coords, ddof = 1) 计算样本方差（使用 n−1 作为分母）。当样本数量 num_walks 足够大时，计算得到的样本方差应该接近 1000。如果多次运行代码，发现样本方差与 1000 的偏差在一个可接受的范围内（例如 950 到 1050），则说明样本方差与理论预期相符

## 4. 理论分析
### 4.1 单步随机行走分析
分析单步随机行走的概率分布特征。

### 4.2 终点分布的理论推导
结合中心极限定理，推导终点分布的理论形式。

### 4.3 实验结果与理论的对比
比较实验观测和理论预测的异同。

## 5. 讨论与结论
### 5.1 主要发现
总结实验的主要发现和结论。

### 5.2 实验误差分析
分析可能的误差来源及其影响。

### 5.3 改进建议
提出实验改进的建议。

## 6. 参考文献
列出参考的文献和资料。
